-- TABELA PRODUTOS
CREATE TABLE [TB_PRODUTOS] (
    [CODIGO] VARCHAR(10) NOT NULL,
    [DESCRITOR] VARCHAR(100) NULL,
    [SABOR] VARCHAR(50) NULL,
    [TAMANHO] VARCHAR(50) NULL,
    [EMBALAGEM] VARCHAR(50) NULL,
    [PRECO_LISTA] FLOAT NULL,
    PRIMARY KEY ([CODIGO])
);

-- TABELA VENDEDORES
CREATE TABLE [TB_VENDEDORES] (
    [MATRICULA] VARCHAR(5) NOT NULL,
    [NOME] VARCHAR(100) NULL,
    [BAIRRO] VARCHAR(50) NULL,
    [COMISSAO] FLOAT NULL,
    [DATA_ADMISSAO] DATE NULL,
    [FERIAS] BIT NULL,
    PRIMARY KEY ([MATRICULA])
);
  
-- TABELA CLIENTES
CREATE TABLE [TB_CLIENTES] (
    [CPF] VARCHAR(11) NOT NULL,
    [NOME] VARCHAR(100) NOT NULL,
    [ENDERECO] VARCHAR(150) NULL,
    [BAIRRO] VARCHAR(50) NULL,
    [CIDADE] VARCHAR(50) NULL,
    [ESTADO] VARCHAR(50) NULL,
    [CEP] VARCHAR(8) NULL,
    [DATA_NASCIMENTO] DATE NULL,
    [IDADE] SMALLINT NULL,
    [GENERO] VARCHAR(1) NULL,
    [LIMITE_CREDITO] FLOAT NULL,
    [VOLUME_COMPRA] FLOAT NULL,
    [PRIMEIRA_COMPRA] BIT
    PRIMARY KEY ([CPF])
);

-- TABELA VENDAS
CREATE TABLE [TB_VENDAS] (
    [NUMERO] VARCHAR(5) NOT NULL,
    [DATA_VENDA] DATE NULL,
    [CPF] VARCHAR(11) NOT NULL,
    [MATRICULA] VARCHAR(5) NOT NULL,
    [IMPOSTO] FLOAT NULL,
    PRIMARY KEY ([NUMERO]),
    FOREIGN KEY ([CPF]) REFERENCES [TB_CLIENTES]([CPF]),
    FOREIGN KEY ([MATRICULA]) REFERENCES [TB_VENDEDORES]([MATRICULA])
);

CREATE TABLE TB_ITENS_VENDAS (
    [NUMERO] VARCHAR(5) NOT NULL,
    [CODIGO] VARCHAR(10) NOT NULL,
    [QUANTIDADE] INT NULL,
    [PRECO] FLOAT NULL,
    PRIMARY KEY ([NUMERO], [CODIGO]),
    FOREIGN KEY ([NUMERO]) REFERENCES [TB_VENDAS]([NUMERO]),
    FOREIGN KEY ([CODIGO]) REFERENCES [TB_PRODUTOS]([CODIGO])
);
